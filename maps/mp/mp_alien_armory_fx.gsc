// IW6 PC GSC
// Decompiled by https://github.com/xensik/gsc-tool

_ID20445()
{
    level._ID1644["spider_emerge_snow_puffs"] = loadfx( "vfx/moments/alien/spider_emerge_snow_puffs" );
    level._ID1644["spider_emerge_snow_burst"] = loadfx( "vfx/moments/alien/spider_emerge_snow_burst" );
    level._ID1644["blood_window_splat"] = loadfx( "vfx/moments/alien/vfx_blood_hit_oriented_armory" );
    level._ID1644["muzzleflash_01"] = loadfx( "vfx/moments/alien/vfx_muz_pis_w_huge" );
    level._ID1644["light_emergency_blinking_01"] = loadfx( "vfx/moments/alien/vfx_light_emergency_100_blinker_rnnr" );
    level._ID1644["muzzleflash_01_dlight"] = loadfx( "vfx/moments/alien/vfx_muzzleflash_dlight" );
    level._ID1644["snow_drift_down"] = loadfx( "vfx/ambient/weather/snow/snow_drift_down" );
    level._ID1644["snow_ground_oriented_drift_heavy"] = loadfx( "vfx/moments/black_ice/snow_ground_oriented_drift_heavy" );
    level._ID1644["snow_ground_oriented_drift_light"] = loadfx( "vfx/ambient/weather/snow/snow_ground_oriented_drift_light" );
    level._ID1644["snow_heavy_mp_alien_armory_nfg_1000"] = loadfx( "fx/maps/mp_alien_armory/snow_heavy_mp_alien_armory_nfg_1000" );
    level._ID1644["alien_arm_hive_steam_yellow"] = loadfx( "vfx/ambient/alien/vfx_alien_arm_hive_steam_yellow" );
    level._ID1644["alien_arm_snow_ground_gale_1"] = loadfx( "vfx/moments/alien/vfx_alien_arm_snow_ground_gale_1" );
    level._ID1644["alien_arm_snow_ground_gale_2"] = loadfx( "vfx/moments/alien/vfx_alien_arm_snow_ground_gale_2" );
    level._ID1644["alien_arm_snow_ground_gale_3"] = loadfx( "vfx/moments/alien/vfx_alien_arm_snow_ground_gale_3" );
    level._ID1644["alien_arm_intro_fall_dust"] = loadfx( "vfx/moments/alien/vfx_alien_arm_intro_fall_dust" );
    level._ID1644["alien_arm_intro_falling_snow"] = loadfx( "vfx/moments/alien/vfx_alien_arm_intro_falling_snow" );
    level._ID1644["alien_arm_intro_falling_snow_2"] = loadfx( "vfx/moments/alien/vfx_alien_arm_intro_falling_snow_2" );
    level._ID1644["alien_arm_intro_stab_blood_runner"] = loadfx( "vfx/moments/alien/vfx_alien_arm_intro_stab_blood_rnnr" );
    level._ID1644["alien_arm_intro_tun_snow"] = loadfx( "vfx/moments/alien/vfx_alien_arm_intro_tun_snow" );
    level._ID1644["alien_snow_ground_gale"] = loadfx( "vfx/ambient/weather/snow/vfx_alien_snow_ground_gale" );
    level._ID1644["alien_snow_ground_heavy"] = loadfx( "vfx/ambient/weather/snow/vfx_alien_snow_ground_heavy" );
    level._ID1644["alien_snow_ground_light"] = loadfx( "vfx/ambient/weather/snow/vfx_alien_snow_ground_light" );
    level._ID1644["alien_snow_roof_gale"] = loadfx( "vfx/ambient/weather/snow/vfx_alien_snow_roof_gale" );
    level._ID1644["alien_snow_roof_heavy"] = loadfx( "vfx/ambient/weather/snow/vfx_alien_snow_roof_heavy" );
    level._ID1644["dust_motes_int_snow"] = loadfx( "vfx/ambient/dust/vfx_dust_motes_int_snow" );
    level._ID1644["godray_spread_200_warm"] = loadfx( "vfx/ambient/lights/godray_spread_200_warm" );
    level._ID1644["red_light_100_soft_blinker_oriented"] = loadfx( "vfx/ambient/lights/red_light_100_soft_blinker_oriented" );
    level._ID1644["skyanim_snowysky"] = loadfx( "vfx/clouds/vfx_skyanim_alien_armory" );
    level._ID1644["white_light_120_rect_mist"] = loadfx( "vfx/ambient/lights/white_light_120_rect_mist" );
    level._ID1644["white_light_60_mist"] = loadfx( "vfx/ambient/lights/white_light_60_mist" );
    level._ID1644["spider_impact_snow_big"] = loadfx( "vfx/moments/alien/vfx_alien_spider_big_impact_snow" );
    level._ID1644["monitor_black_flicker_01"] = loadfx( "vfx/moments/alien/vfx_black_mon_overlay_flicker_01" );
    level._ID1644["monitor_black_flicker_02"] = loadfx( "vfx/moments/alien/vfx_black_mon_overlay_flicker_02" );
    level._ID1644["alien_arm_boss2_impact_dust"] = loadfx( "vfx/moments/alien/vfx_alien_arm_boss2_impact_dust" );
    level._ID1644["alien_arm_boss2_rail_dust"] = loadfx( "vfx/moments/alien/vfx_alien_arm_boss2_rail_dust" );
    level._ID1644["alien_propane_tank_explosion_snow"] = loadfx( "vfx/gameplay/alien/vfx_alien_propane_tank_explosion_snow" );
    level._ID1644["electrical_sparks_nocol_3mit"] = loadfx( "vfx/ambient/sparks/electrical_sparks_nocol_runner_3mit" );
    level._ID1644["transformer_exp_snow"] = loadfx( "vfx/gameplay/explosions/vfx_transformer_exp_snow" );
    level._ID1644["light_amber_small_01"] = loadfx( "vfx/ambient/lights/amber_light_45_flare_100" );
    level._ID1644["light_white_cone_01"] = loadfx( "vfx/ambient/lights/white_light_cone_300" );
    level._ID1644["light_white_cone_02"] = loadfx( "vfx/ambient/lights/white_light_cone_301" );
    level._ID1644["alien_cloaking"] = loadfx( "vfx/gameplay/alien/vfx_alien_tele_trail_01" );
    level._ID1644["alien_uncloaking"] = loadfx( "vfx/gameplay/alien/vfx_alien_tele_trail_02" );
    level._ID1644["spitter_ammo"] = loadfx( "vfx/_requests/mp_alien_armory/spitter_ammo" );
    level._ID1644["challenge_ring"] = loadfx( "vfx/gameplay/alien/vfx_alien_chopper_escape_ring" );
    level._ID1644["alien_ark_gib"] = loadfx( "vfx/gameplay/alien/vfx_alien_ark_gib_01" );
}

_ID37233()
{
    common_scripts\utility::exploder( 100 );
    wait 13.2;
    common_scripts\utility::exploder( 125 );
    wait 2.4;
    playfxontag( level._ID1644["alien_arm_intro_stab_blood_runner"], self, "j_wrist_r" );
    wait 2.6;
    common_scripts\utility::exploder( 110 );
}

_ID37237()
{
    wait 6.3;
    common_scripts\utility::exploder( 221 );
    wait 0.2;
    common_scripts\utility::exploder( 220 );
    wait 0.3;
    wait 0.1;
    common_scripts\utility::exploder( 223 );
    wait 0.1;
    common_scripts\utility::exploder( 222 );
    wait 0.4;
    wait 0.3;
    wait 0.6;
}

_ID37238()
{
    wait 4.2;
    common_scripts\utility::exploder( 222 );
    var_0 = getscriptablearray( "armory_alien_rail_b", "targetname" );
    var_0[0] setscriptablepartstate( 0, 3 );
    wait 0.6;
    common_scripts\utility::exploder( 240 );
    var_1 = getscriptablearray( "spider_retreat_b_tank", "targetname" );

    if ( isdefined( var_1[0] ) )
        var_1[0] setscriptablepartstate( 0, 2 );
}

_ID37231()
{
    var_0 = getent( "lab_light_01", "targetname" );
    var_0 setscriptablepartstate( "armory_light", "light_on" );
}

_ID37230()
{
    var_0 = getent( "lab_light_01", "targetname" );
    var_0 setscriptablepartstate( "armory_light", "light_off" );
}

_ID37229()
{
    wait 11.0;
    var_0 = getent( "lab_light_01", "targetname" );
    var_0 setscriptablepartstate( "armory_light", "light_flicker" );
    common_scripts\utility::exploder( 55 );
    wait 1;
    common_scripts\utility::exploder( 56 );
    wait 1;
    common_scripts\utility::exploder( 57 );
}

_ID37228()
{
    thread _ID37231();
    playfxontag( level._ID1644["muzzleflash_01"], self, "tag_flash" );
    playfxontag( level._ID1644["muzzleflash_01_dlight"], self, "tag_flash" );
    common_scripts\utility::exploder( 51 );
    wait 10.8;
    thread maps\mp\mp_alien_armory_vignettes::_ID37585();
    common_scripts\utility::exploder( 52 );
    thread _ID37230();
    wait 0.3;
    common_scripts\utility::exploder( 53 );
}

_ID37240()
{
    level._ID38082 maps\mp\alien\_unk1464::_ID28196( 1.2, 1.0 );
    wait 1;
    level._ID38082 setscriptablepartstate( "body", "vulnerable" );
    wait 0.1;
    level._ID38082 setscriptablepartstate( "body", "normal" );
    wait 6.15;
    playfxontag( level._ID1644["spider_impact_snow_big"], level._ID38082, "tag_belly_end_f" );
}

fx_snow_watcher()
{
    level thread fx_snow_watcher_medium();
    level thread fx_snow_watcher_heavy();
}

fx_snow_watcher_medium()
{
    level endon( "game_ended" );
    level endon( "final_spider_fight" );
    var_0 = getent( "fxt_medium_snow", "targetname" );
    var_0 waittill( "trigger" );
    _ID37234( "medium_snow" );
}

fx_snow_watcher_heavy()
{
    level endon( "game_ended" );
    var_0 = getent( "fxt_heavy_snow", "targetname" );
    var_0 waittill( "trigger" );
    fx_set_spider_fog_3();
    _ID37234( "heavy_snow_no_fog" );
}

_ID37234( var_0 )
{
    while ( !isdefined( level._ID30321 ) )
    {
        wait 0.2;
        level._ID30321 = getent( "scriptable_snow", "targetname" );
    }

    level._ID30321 setscriptablepartstate( "alien_armory_snow", var_0 );
}

fx_set_spider_fog( var_0 )
{
    if ( !isdefined( level.spider_fog_setting ) )
        return;

    var_1 = level.spider_fog_setting;
    self playersetexpfog( var_1._ID31431, var_1._ID15988, var_1._ID25621, var_1._ID15769, var_1.blue, var_1._ID16448, var_1._ID20751, var_0, var_1._ID32084, var_1._ID32078, var_1._ID32064, var_1.hdrsuncolorintensity, var_1._ID32067, var_1._ID32062, var_1._ID32070, var_1._ID22137, var_1._ID30138, var_1._ID30140, var_1._ID30139 );
}

fx_set_spider_fog_1()
{
    var_0 = spawnstruct();

    if ( maps\mp\_utility::_ID18422() )
    {
        var_0._ID31431 = 10;
        var_0._ID15988 = 800;
        var_0._ID25621 = 0.5;
        var_0._ID15769 = 0.56;
        var_0.blue = 0.605;
        var_0._ID20751 = 0.88;
        var_0.transitiontime = 0;
        var_0._ID16448 = 1.75;
        var_0._ID32077 = 1;
        var_0._ID32084 = 0.476;
        var_0._ID32078 = 0.52;
        var_0._ID32064 = 0.607;
        var_0._ID32067 = ( -35, -111, 0 );
        var_0._ID32062 = 20;
        var_0._ID32070 = 120;
        var_0._ID22137 = 0.9;
        var_0.hdrsuncolorintensity = 1;
        var_0._ID30138 = 0.88;
        var_0._ID30140 = -90;
        var_0._ID30139 = -54.73;
    }
    else
    {
        var_0._ID31431 = 10;
        var_0._ID15988 = 800;
        var_0._ID25621 = 0.44;
        var_0._ID15769 = 0.48;
        var_0.blue = 0.56;
        var_0._ID20751 = 0.9;
        var_0.transitiontime = 3;
        var_0._ID32077 = 1;
        var_0._ID32084 = 0.348;
        var_0._ID32078 = 0.38;
        var_0._ID32064 = 0.443;
        var_0._ID32067 = ( -35, -111, 0 );
        var_0._ID32062 = 0;
        var_0._ID32070 = 79;
        var_0._ID22137 = 0.33;
        var_0._ID30138 = 1;
        var_0._ID30140 = -90;
        var_0._ID30139 = -54.73;
    }

    level.spider_fog_setting = var_0;

    foreach ( var_2 in level.players )
        var_2 fx_set_spider_fog( 3 );
}

fx_set_spider_fog_3()
{
    var_0 = spawnstruct();

    if ( maps\mp\_utility::_ID18422() )
    {
        var_0._ID31431 = 10;
        var_0._ID15988 = 1000;
        var_0._ID25621 = 0.5;
        var_0._ID15769 = 0.56;
        var_0.blue = 0.605;
        var_0._ID20751 = 0.88;
        var_0.transitiontime = 0;
        var_0._ID16448 = 1.75;
        var_0._ID32077 = 1;
        var_0._ID32084 = 0.476;
        var_0._ID32078 = 0.52;
        var_0._ID32064 = 0.607;
        var_0._ID32067 = ( -35, -111, 0 );
        var_0._ID32062 = 20;
        var_0._ID32070 = 120;
        var_0._ID22137 = 0.9;
        var_0.hdrsuncolorintensity = 1;
        var_0._ID30138 = 0.88;
        var_0._ID30140 = -90;
        var_0._ID30139 = -54.73;
    }
    else
    {
        var_0._ID31431 = 10;
        var_0._ID15988 = 1000;
        var_0._ID25621 = 0.44;
        var_0._ID15769 = 0.48;
        var_0.blue = 0.56;
        var_0._ID20751 = 0.9;
        var_0.transitiontime = 3;
        var_0._ID32077 = 1;
        var_0._ID32084 = 0.348;
        var_0._ID32078 = 0.38;
        var_0._ID32064 = 0.443;
        var_0._ID32067 = ( -35, -111, 0 );
        var_0._ID32062 = 0;
        var_0._ID32070 = 79;
        var_0._ID22137 = 0.33;
        var_0._ID30138 = 1;
        var_0._ID30140 = -90;
        var_0._ID30139 = -54.73;
    }

    level.spider_fog_setting = var_0;

    foreach ( var_2 in level.players )
        var_2 fx_set_spider_fog( 6 );
}
